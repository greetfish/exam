{"version":3,"sources":["webpack:///./src/pages/adminPage/views/paperArchive.vue?0514","webpack:///src/pages/adminPage/views/paperArchive.vue","webpack:///./src/pages/adminPage/views/paperArchive.vue?87b4","webpack:///./src/pages/adminPage/views/paperArchive.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","span","offset","_v","align","staticStyle","width","data","paperList","stripe","type","prop","label","scopedSlots","_u","key","fn","scope","size","round","on","click","$event","routerTo","row","effect","content","placement","getScoreExcelList","icon","circle","deletePaper","staticRenderFns","paperArchivevue_type_script_lang_js_","inject","created","getAllPaper","methods","$router","push","path","query","paperId","id","paperName","_this","axios_default","a","post","lib_default","stringify","paperState","then","respone","getExcelList","responseType","res","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","download","revokeObjectURL","endExam","$alert","confirmButtonText","callback","action","showSuccessMsg","msgContent","getAllMemberPaper","reload","documentPaper","msgType","showErrorMsg","deletepre","msg","$message","message","views_paperArchivevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,gBAA2B,CAAAF,EAAA,UAAAA,EAAA,UAA4BG,MAAA,CAAOC,KAAA,GAAAC,OAAA,IAAsB,CAAAL,EAAA,MAAAJ,EAAAU,GAAA,aAAAN,EAAA,sBAAAA,EAAA,UAAAA,EAAA,UAAkFG,MAAA,CAAOC,KAAA,GAAAC,OAAA,EAAAE,MAAA,SAAqC,CAAAP,EAAA,YAAiBQ,YAAA,CAAaC,MAAA,QAAeN,MAAA,CAAQO,KAAAd,EAAAe,UAAAC,OAAA,KAAkC,CAAAZ,EAAA,mBAAwBG,MAAA,CAAOU,KAAA,QAAAJ,MAAA,QAA6BT,EAAA,mBAAwBG,MAAA,CAAOW,KAAA,YAAAC,MAAA,SAAkCf,EAAA,mBAAwBG,MAAA,CAAOW,KAAA,eAAAC,MAAA,UAAsCf,EAAA,mBAAwBG,MAAA,CAAOW,KAAA,oBAAAC,MAAA,QAAyCf,EAAA,mBAAwBG,MAAA,CAAOW,KAAA,wBAAAC,MAAA,SAA8Cf,EAAA,mBAAwBG,MAAA,CAAOW,KAAA,0BAAAC,MAAA,QAA+Cf,EAAA,mBAAwBG,MAAA,CAAOW,KAAA,GAAAC,MAAA,GAAAN,MAAA,MAAAF,MAAA,UAAoDS,YAAApB,EAAAqB,GAAA,EAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAApB,EAAA,aAAwBG,MAAA,CAAOkB,KAAA,OAAAC,MAAA,IAAyBC,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAA7B,EAAA8B,SAAAN,EAAAO,QAAiC,CAAA/B,EAAAU,GAAA,UAAAN,EAAA,cAAoCE,YAAA,OAAAC,MAAA,CAA0ByB,OAAA,OAAAC,QAAA,cAAAC,UAAA,WAA8D,CAAA9B,EAAA,aAAkBG,MAAA,CAAOkB,KAAA,OAAAC,MAAA,IAAyBC,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAA7B,EAAAmC,kBAAAX,EAAAO,QAA0C,CAAA/B,EAAAU,GAAA,cAAAN,EAAA,cAAwCE,YAAA,OAAAC,MAAA,CAA0ByB,OAAA,OAAAC,QAAA,OAAAC,UAAA,WAAuD,CAAA9B,EAAA,aAAkBG,MAAA,CAAOU,KAAA,SAAAmB,KAAA,iBAAAX,KAAA,OAAAY,OAAA,IAAkEV,GAAA,CAAKC,MAAA,SAAAC,GAAyB,OAAA7B,EAAAsC,YAAAd,EAAAO,UAAoC,WAAW,gBAChlDQ,EAAA,6CCoCAC,EAAA,CACAC,OAAA,WACA3B,KAFA,WAGA,OACAC,UAAA,KAGA2B,QAAA,WACAzC,KAAA0C,eAEAC,QAAA,CACAd,SAAA,SAAAC,GACA9B,KAAA4C,QAAAC,KAAA,CACAC,KAAA,iBACAC,MAAA,CACAC,QAAAlB,EAAAmB,GACAC,UAAApB,EAAAoB,cAIAR,YAAA,WACA,IAAAS,EAAAnD,KACAoD,EAAAC,EAAAC,KAAA,mBAAAC,EAAAF,EAAAG,UAAA,CAAAC,WAAA,OAAAC,KAAA,SAAAC,GACAR,EAAArC,UAAA6C,EAAA9C,QAGA+C,aAAA,SAAA9B,GACAsB,EAAAC,EAAAC,KAAA,+BAAAC,EAAAF,EAAAG,UAAA,CAAAR,QAAAlB,EAAAmB,KAAA,CAAAY,aAAA,SAAAH,KACA,SAAAI,GACA,IAAAC,EAAA,IAAAC,KAAA,CAAAF,EAAAjD,MAAA,CACAG,KAAA,6BAEAiD,EAAAC,OAAAC,IAAAC,gBAAAL,GACAV,EAAAgB,SAAAC,cAAA,KACAjB,EAAAkB,KAAAN,EACAZ,EAAAmB,SAAA,SAAA1C,EAAAoB,UAAA,OACAG,EAAA1B,QACAuC,OAAAC,IAAAM,gBAAAR,MAIA/B,kBAAA,SAAAJ,GACAsB,EAAAC,EAAAC,KAAA,qBAAAC,EAAAF,EAAAG,UAAA,CAAAR,QAAAlB,EAAAmB,KAAA,CAAAY,aAAA,SAAAH,KACA,SAAAI,GACA,IAAAC,EAAA,IAAAC,KAAA,CAAAF,EAAAjD,MAAA,CACAG,KAAA,6BAEAiD,EAAAC,OAAAC,IAAAC,gBAAAL,GACAV,EAAAgB,SAAAC,cAAA,KACAjB,EAAAkB,KAAAN,EACAZ,EAAAmB,SAAA,SAAA1C,EAAAoB,UAAA,OACAG,EAAA1B,QACAuC,OAAAC,IAAAM,gBAAAR,MAIAS,QAAA,SAAA5C,GACA,IAAAqB,EAAAnD,KACAA,KAAA2E,OAAA,sCACAC,kBAAA,KACAC,SAAA,SAAAC,GACA,YAAAA,GACA1B,EAAAC,EAAAC,KAAA,uBAAAC,EAAAF,EAAAG,UAAA,CAAAR,QAAAlB,EAAAmB,MAAAS,KAAA,SAAAC,GACAR,EAAA4B,eAAApB,EAAA9C,KAAAmE,YACA7B,EAAA8B,oBACA9B,EAAA+B,eAMAC,cAAA,SAAArD,GACA,IAAAqB,EAAAnD,KACAA,KAAA2E,OAAA,kCACAC,kBAAA,KACAC,SAAA,SAAAC,GACA,YAAAA,GACA1B,EAAAC,EAAAC,KAAA,qBAAAC,EAAAF,EAAAG,UAAA,CAAAR,QAAAlB,EAAAmB,MAAAS,KAAA,SAAAC,GACA,IAAAA,EAAA9C,KAAAuE,SACAjC,EAAA4B,eAAApB,EAAA9C,KAAAmE,YACA7B,EAAA8B,oBACA9B,EAAA+B,UACA,IAAAvB,EAAA9C,KAAAuE,SACAjC,EAAAkC,aAAA1B,EAAA9C,KAAAmE,kBAOAM,UAAA,SAAAxD,GACA9B,KAAAqC,YAAAP,IAEAO,YAAA,SAAAP,GACA,IAAAqB,EAAAnD,KACAA,KAAA2E,OAAA,YAAA7C,EAAAoB,UAAA,qBACA0B,kBAAA,KACAC,SAAA,SAAAC,GACA,YAAAA,GACA1B,EAAAC,EAAAC,KAAA,mBAAAC,EAAAF,EAAAG,UAAA,CAAAR,QAAAlB,EAAAmB,MAAAS,KAAA,SAAAC,GACAR,EAAAT,cACA,IAAAiB,EAAA9C,KAAAuE,QACAjC,EAAA4B,eAAApB,EAAA9C,KAAAmE,YACA,IAAArB,EAAA9C,KAAAuE,SACAjC,EAAAkC,aAAA1B,EAAA9C,KAAAmE,kBAOAD,eAAA,SAAAQ,GACAvF,KAAAwF,SAAA,CACAC,QAAAF,EACAvE,KAAA,aAGAqE,aAAA,SAAAE,GACAvF,KAAAwF,SAAA,CACAC,QAAAF,EACAvE,KAAA,aC7JoX0E,EAAA,cCOpXC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA5F,EACAwC,GACF,EACA,KACA,KACA,MAIewD,EAAA,WAAAH","file":"assets/js/chunk-2d21e53c.04b2dcce.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"paperArchive\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":22,\"offset\":1}},[_c('h3',[_vm._v(\"已归档试卷列表\")]),_c('el-divider')],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":18,\"offset\":3,\"align\":\"left\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.paperList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"paperName\",\"label\":\"试卷名\"}}),_c('el-table-column',{attrs:{\"prop\":\"generateTime\",\"label\":\"创建时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"course.courseName\",\"label\":\"科目\"}}),_c('el-table-column',{attrs:{\"prop\":\"memberGroup.groupName\",\"label\":\"人员组\"}}),_c('el-table-column',{attrs:{\"prop\":\"memberGroup.countMember\",\"label\":\"人数\"}}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"\",\"width\":\"240\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.routerTo(scope.row)}}},[_vm._v(\"成绩查看\")]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"导出Excel成绩报表\",\"placement\":\"bottom\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.getScoreExcelList(scope.row)}}},[_vm._v(\"导出成绩\")])],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"删除试卷\",\"placement\":\"bottom\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deletePaper(scope.row)}}})],1)]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"paperArchive\">\n    <el-row>\n      <el-col :span=\"22\" :offset=\"1\">\n        <h3>已归档试卷列表</h3>\n        <el-divider></el-divider>\n      </el-col>\n    </el-row>\n    <el-row>\n      <el-col :span=\"18\" :offset=\"3\" align=\"left\">\n      <el-table :data=\"paperList\" stripe style=\"width: 100%\">\n        <el-table-column type=\"index\" width=\"50\"></el-table-column>\n        <el-table-column prop=\"paperName\" label=\"试卷名\" ></el-table-column>\n        <el-table-column prop=\"generateTime\" label=\"创建时间\" ></el-table-column>\n        <el-table-column prop=\"course.courseName\" label=\"科目\" ></el-table-column>\n        <el-table-column prop=\"memberGroup.groupName\" label=\"人员组\" ></el-table-column>\n        <el-table-column prop=\"memberGroup.countMember\" label=\"人数\" ></el-table-column>\n        <el-table-column prop=\"\" label=\"\" width=\"240\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" @click=\"routerTo(scope.row)\" round>成绩查看</el-button>\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"导出Excel成绩报表\" placement=\"bottom\">\n              <el-button size=\"mini\" @click=\"getScoreExcelList(scope.row)\" round>导出成绩</el-button>\n            </el-tooltip>\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"删除试卷\" placement=\"bottom\">\n              <el-button type=\"danger\" @click=\"deletePaper(scope.row)\" icon=\"el-icon-delete\" size=\"mini\" circle></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script type=\"text/javascript\">\nimport axios from 'axios'\nimport qs from 'qs'\nexport default {\n  inject: ['reload'],\n  data () {\n    return {\n      paperList: []\n    }\n  },\n  created: function () {\n    this.getAllPaper()\n  },\n  methods: {\n    routerTo: function (row) {\n      this.$router.push({\n        path: '/memberArchive',\n        query: {\n          paperId: row.id,\n          paperName: row.paperName\n        }\n      })\n    },\n    getAllPaper: function () {\n      var _this = this\n      axios.post('/api_getAllPaper', qs.stringify({ 'paperState': '3' })).then(function (respone) {\n        _this.paperList = respone.data\n      })\n    },\n    getExcelList: function (row) {\n      axios.post('/api_downloadMemberPaperList', qs.stringify({ 'paperId': row.id }), { responseType: 'blob' }).then(\n        res => {\n          let blob = new Blob([res.data], {\n            type: 'application/vnd.ms-excel'\n          })\n          let url = window.URL.createObjectURL(blob)\n          let a = document.createElement('a')\n          a.href = url\n          a.download = '【考号列表】' + row.paperName + '.xls'\n          a.click()\n          window.URL.revokeObjectURL(url)\n        }\n      )\n    },\n    getScoreExcelList: function (row) {\n      axios.post('/api_downloadScore', qs.stringify({ 'paperId': row.id }), { responseType: 'blob' }).then(\n        res => {\n          let blob = new Blob([res.data], {\n            type: 'application/vnd.ms-excel'\n          })\n          let url = window.URL.createObjectURL(blob)\n          let a = document.createElement('a')\n          a.href = url\n          a.download = '【成绩报表】' + row.paperName + '.xls'\n          a.click()\n          window.URL.revokeObjectURL(url)\n        }\n      )\n    },\n    endExam: function (row) {\n      var _this = this\n      this.$alert('结束本次考试并结算分数（正在考试的人员将被强制收卷）', '请谨慎操作', {\n        confirmButtonText: '继续',\n        callback: action => {\n          if (action === 'confirm') {\n            axios.post('/api_endExamForPaper', qs.stringify({ 'paperId': row.id })).then(function (respone) {\n              _this.showSuccessMsg(respone.data.msgContent)\n              _this.getAllMemberPaper()\n              _this.reload()\n            })\n          }\n        }\n      })\n    },\n    documentPaper: function (row) {\n      var _this = this\n      this.$alert('归档试卷，本次考核将归入档案，只提供查询功能', '请谨慎操作', {\n        confirmButtonText: '继续',\n        callback: action => {\n          if (action === 'confirm') {\n            axios.post('/api_documentPaper', qs.stringify({ 'paperId': row.id })).then(function (respone) {\n              if (respone.data.msgType === 0) {\n                _this.showSuccessMsg(respone.data.msgContent)\n                _this.getAllMemberPaper()\n                _this.reload()\n              } else if (respone.data.msgType === 1) {\n                _this.showErrorMsg(respone.data.msgContent)\n              }\n            })\n          }\n        }\n      })\n    },\n    deletepre: function (row) {\n      this.deletePaper(row)\n    },\n    deletePaper: function (row) {\n      var _this = this\n      this.$alert('此操作将删除试卷【' + row.paperName + '】，并丢失人员成绩', '请谨慎操作', {\n        confirmButtonText: '继续',\n        callback: action => {\n          if (action === 'confirm') {\n            axios.post('/api_deletePaper', qs.stringify({ 'paperId': row.id })).then(function (respone) {\n              _this.getAllPaper()\n              if (respone.data.msgType === 0) {\n                _this.showSuccessMsg(respone.data.msgContent)\n              } else if (respone.data.msgType === 1) {\n                _this.showErrorMsg(respone.data.msgContent)\n              }\n            })\n          }\n        }\n      })\n    },\n    showSuccessMsg: function (msg) {\n      this.$message({\n        message: msg,\n        type: 'success'\n      })\n    },\n    showErrorMsg: function (msg) {\n      this.$message({\n        message: msg,\n        type: 'error'\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./paperArchive.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./paperArchive.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./paperArchive.vue?vue&type=template&id=42bbfad6&\"\nimport script from \"./paperArchive.vue?vue&type=script&lang=js&\"\nexport * from \"./paperArchive.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}