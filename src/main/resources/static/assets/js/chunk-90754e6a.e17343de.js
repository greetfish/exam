(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90754e6a"],{"6af7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"controlExamMember"},[a("el-row",[a("el-col",{attrs:{span:3,offset:1}},[a("h3",[e._v("考场控制")])]),a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:19,align:"right"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.getExcelList()}}},[e._v("导出考号")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.reFlash()}}},[e._v("刷新")])],1)],1),a("el-row",[a("el-col",{attrs:{span:22,offset:1}},[a("el-divider")],1)],1),a("el-row",[a("el-col",{attrs:{span:18,offset:3,align:"left"}},[a("el-table",{key:Math.random(),staticStyle:{width:"100%","margin-top":"50px"},attrs:{data:e.memberPaperList,stripe:""}},[a("el-table-column",{key:Math.random(),attrs:{type:"index",width:"50"}}),a("el-table-column",{key:Math.random(),attrs:{prop:"member.name",label:"姓名"}}),a("el-table-column",{key:Math.random(),attrs:{prop:"member.examNumber",label:"考号"}}),a("el-table-column",{key:Math.random(),attrs:{prop:"score",label:"成绩"}}),a("el-table-column",{key:Math.random(),attrs:{prop:"",label:"",width:"240",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",round:""},on:{click:function(a){return e.endExam(t.row)}}},[e._v("结束")]),a("el-button",{attrs:{size:"mini",round:""},on:{click:function(a){return e.redoExam(t.row)}}},[e._v("重考")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:""},on:{click:function(a){return e.deletepre(t.row)}}})]}}])})],1)],1)],1)],1)},n=[],o=(a("7f7f"),a("bc3a")),i=a.n(o),s=a("4328"),l=a.n(s),c={inject:["reload"],data:function(){return{paperId:"",memberPaperList:[],paperName:""}},created:function(){this.getRouterData(),this.getAllMemberPaper()},methods:{reFlash:function(){this.reload(),this.getAllMemberPaper()},getRouterData:function(){this.paperId=this.$route.query.paperId,this.paperName=this.$route.query.paperName},getAllMemberPaper:function(){var e=this;i.a.post("/api_getAllMemberPaper",l.a.stringify({paperId:e.paperId})).then(function(t){e.memberPaperList=t.data})},getExcelList:function(){var e=this;i.a.post("/api_downloadMemberPaperList",l.a.stringify({paperId:e.paperId}),{responseType:"blob"}).then(function(t){var a=new Blob([t.data],{type:"application/vnd.ms-excel"}),r=window.URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download="【考号列表】"+e.paperName+".xls",n.click(),window.URL.revokeObjectURL(r)})},endExam:function(e){var t=this;this.$alert('结束考生"'+e.member.name+'"的本次考试，并结算分数',"请谨慎操作",{confirmButtonText:"继续",callback:function(a){"confirm"===a&&i.a.post("/api_endExamForMemberPaper",l.a.stringify({memberPaperId:e.id})).then(function(e){t.showSuccessMsg(e.data.msgContent),t.getAllMemberPaper(),t.reload()})}})},redoExam:function(e){var t=this;this.$alert('允许考生"'+e.member.name+'"重新参加本次考试，当前得分将作废',"请谨慎操作",{confirmButtonText:"继续",callback:function(a){"confirm"===a&&i.a.post("/api_redoExamForMemberPaper",l.a.stringify({memberPaperId:e.id})).then(function(e){t.showSuccessMsg(e.data.msgContent),t.getAllMemberPaper(),t.reload()})}})},deletepre:function(e){var t=this;this.$alert('移除此考生"'+e.member.name+'"本次考试试卷，且无成绩记录',"请谨慎操作",{confirmButtonText:"继续",callback:function(a){"confirm"===a&&i.a.post("/api_removeMemberPaper",l.a.stringify({memberPaperId:e.id})).then(function(e){t.showSuccessMsg(e.data.msgContent),t.getAllMemberPaper()})}})},showSuccessMsg:function(e){this.$message({message:e,type:"success"})},showErrorMsg:function(e){this.$message({message:e,type:"error"})}}},m=c,p=a("2877"),u=Object(p["a"])(m,r,n,!1,null,null,null);t["default"]=u.exports},"7f7f":function(e,t,a){var r=a("86cc").f,n=Function.prototype,o=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&r(n,i,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-90754e6a.e17343de.js.map