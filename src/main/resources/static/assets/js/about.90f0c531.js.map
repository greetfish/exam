{"version":3,"sources":["webpack:///./src/pages/adminPage/views/examingControl.vue?a45e","webpack:///src/pages/adminPage/views/examingControl.vue","webpack:///./src/pages/adminPage/views/examingControl.vue?899d","webpack:///./src/pages/adminPage/views/examingControl.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","span","offset","_v","align","staticStyle","width","data","paperList","stripe","type","prop","label","scopedSlots","_u","key","fn","scope","size","round","on","click","$event","routerTo","row","endExam","effect","content","placement","icon","circle","deletePaper","getExcelList","getScoreExcelList","margin-right","documentPaper","staticRenderFns","examingControlvue_type_script_lang_js_","inject","created","getAllPaper","methods","$router","push","path","query","paperId","id","paperName","_this","axios_default","a","post","lib_default","stringify","paperState","then","respone","responseType","res","blob","Blob","url","window","URL","createObjectURL","document","createElement","href","download","revokeObjectURL","$alert","confirmButtonText","callback","action","showSuccessMsg","msgContent","getAllMemberPaper","reload","msgType","showErrorMsg","msg","$message","message","views_examingControlvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"assets/js/about.90f0c531.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"examingControl\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":22,\"offset\":1}},[_c('h3',[_vm._v(\"已开考试卷列表\")]),_c('el-divider')],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":18,\"offset\":3,\"align\":\"left\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.paperList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"paperName\",\"label\":\"试卷名\"}}),_c('el-table-column',{attrs:{\"prop\":\"generateTime\",\"label\":\"创建时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"course.courseName\",\"label\":\"科目\"}}),_c('el-table-column',{attrs:{\"prop\":\"memberGroup.groupName\",\"label\":\"人员组\"}}),_c('el-table-column',{attrs:{\"prop\":\"memberGroup.countMember\",\"label\":\"人数\"}}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"\",\"width\":\"240\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.routerTo(scope.row)}}},[_vm._v(\"考场控制\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.endExam(scope.row)}}},[_vm._v(\"结束\")]),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"删除试卷\",\"placement\":\"bottom\"}},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.deletePaper(scope.row)}}})],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"导出Excel考号表\",\"placement\":\"bottom\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.getExcelList(scope.row)}}},[_vm._v(\"导出考号\")])],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"导出Excel成绩报表\",\"placement\":\"bottom\"}},[_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){return _vm.getScoreExcelList(scope.row)}}},[_vm._v(\"成绩\")])],1),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"归档试卷\",\"placement\":\"bottom\"}},[_c('el-button',{staticStyle:{\"margin-right\":\"7px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-document\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.documentPaper(scope.row)}}})],1)]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"examingControl\">\n    <el-row>\n      <el-col :span=\"22\" :offset=\"1\">\n        <h3>已开考试卷列表</h3>\n        <el-divider></el-divider>\n      </el-col>\n    </el-row>\n    <el-row>\n      <el-col :span=\"18\" :offset=\"3\" align=\"left\">\n      <el-table :data=\"paperList\" stripe style=\"width: 100%\">\n        <el-table-column type=\"index\" width=\"50\"></el-table-column>\n        <el-table-column prop=\"paperName\" label=\"试卷名\" ></el-table-column>\n        <el-table-column prop=\"generateTime\" label=\"创建时间\" ></el-table-column>\n        <el-table-column prop=\"course.courseName\" label=\"科目\" ></el-table-column>\n        <el-table-column prop=\"memberGroup.groupName\" label=\"人员组\" ></el-table-column>\n        <el-table-column prop=\"memberGroup.countMember\" label=\"人数\" ></el-table-column>\n        <el-table-column prop=\"\" label=\"\" width=\"240\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" @click=\"routerTo(scope.row)\" round>考场控制</el-button>\n            <el-button size=\"mini\" @click=\"endExam(scope.row)\" round>结束</el-button>\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"删除试卷\" placement=\"bottom\">\n              <el-button type=\"danger\" @click=\"deletePaper(scope.row)\" icon=\"el-icon-delete\" size=\"mini\" circle></el-button>\n            </el-tooltip>\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"导出Excel考号表\" placement=\"bottom\">\n            <el-button size=\"mini\" @click=\"getExcelList(scope.row)\" round>导出考号</el-button>\n            </el-tooltip>\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"导出Excel成绩报表\" placement=\"bottom\">\n              <el-button size=\"mini\" @click=\"getScoreExcelList(scope.row)\" round>成绩</el-button>\n            </el-tooltip>\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"归档试卷\" placement=\"bottom\">\n              <el-button type=\"primary\" style=\"margin-right:7px;\" @click=\"documentPaper(scope.row)\" icon=\"el-icon-document\" size=\"mini\" circle></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script type=\"text/javascript\">\nimport axios from 'axios'\nimport qs from 'qs'\nexport default {\n  inject: ['reload'],\n  data () {\n    return {\n      paperList: []\n    }\n  },\n  created: function () {\n    this.getAllPaper()\n  },\n  methods: {\n    routerTo: function (row) {\n      this.$router.push({\n        path: '/controlExamMember',\n        query: {\n          paperId: row.id,\n          paperName: row.paperName\n        }\n      })\n    },\n    getAllPaper: function () {\n      var _this = this\n      axios.post('/api_getAllPaper', qs.stringify({ 'paperState': '1' })).then(function (respone) {\n        _this.paperList = respone.data\n      })\n    },\n    getExcelList: function (row) {\n      axios.post('/api_downloadMemberPaperList', qs.stringify({ 'paperId': row.id }), { responseType: 'blob' }).then(\n        res => {\n          let blob = new Blob([res.data], {\n            type: 'application/vnd.ms-excel'\n          })\n          let url = window.URL.createObjectURL(blob)\n          let a = document.createElement('a')\n          a.href = url\n          a.download = '【考号列表】' + row.paperName + '.xls'\n          a.click()\n          window.URL.revokeObjectURL(url)\n        }\n      )\n    },\n    getScoreExcelList: function (row) {\n      axios.post('/api_downloadScore', qs.stringify({ 'paperId': row.id }), { responseType: 'blob' }).then(\n        res => {\n          let blob = new Blob([res.data], {\n            type: 'application/vnd.ms-excel'\n          })\n          let url = window.URL.createObjectURL(blob)\n          let a = document.createElement('a')\n          a.href = url\n          a.download = '【成绩报表】' + row.paperName + '.xls'\n          a.click()\n          window.URL.revokeObjectURL(url)\n        }\n      )\n    },\n    endExam: function (row) {\n      var _this = this\n      this.$alert('结束本次考试并结算分数（正在考试的人员将被强制收卷）', '请谨慎操作', {\n        confirmButtonText: '继续',\n        callback: action => {\n          if (action === 'confirm') {\n            axios.post('/api_endExamForPaper', qs.stringify({ 'paperId': row.id })).then(function (respone) {\n              _this.showSuccessMsg(respone.data.msgContent)\n              _this.getAllMemberPaper()\n              _this.reload()\n            })\n          }\n        }\n      })\n    },\n    documentPaper: function (row) {\n      var _this = this\n      this.$alert('归档试卷，本次考核将归入档案，只提供查询功能', '请谨慎操作', {\n        confirmButtonText: '继续',\n        callback: action => {\n          if (action === 'confirm') {\n            axios.post('/api_documentPaper', qs.stringify({ 'paperId': row.id })).then(function (respone) {\n              if (respone.data.msgType === 0) {\n                _this.showSuccessMsg(respone.data.msgContent)\n                _this.getAllMemberPaper()\n                _this.reload()\n              } else if (respone.data.msgType === 1) {\n                _this.showErrorMsg(respone.data.msgContent)\n              }\n            })\n          }\n        }\n      })\n    },\n    deletePaper: function (row) {\n      var _this = this\n      this.$alert('此操作将删除试卷【' + row.paperName + '】，并丢失人员成绩', '请谨慎操作', {\n        confirmButtonText: '继续',\n        callback: action => {\n          if (action === 'confirm') {\n            axios.post('/api_deletePaper', qs.stringify({ 'paperId': row.id })).then(function (respone) {\n              _this.getAllPaper()\n              if (respone.data.msgType === 0) {\n                _this.showSuccessMsg(respone.data.msgContent)\n              } else if (respone.data.msgType === 1) {\n                _this.showErrorMsg(respone.data.msgContent)\n              }\n            })\n          }\n        }\n      })\n    },\n    showSuccessMsg: function (msg) {\n      this.$message({\n        message: msg,\n        type: 'success'\n      })\n    },\n    showErrorMsg: function (msg) {\n      this.$message({\n        message: msg,\n        type: 'error'\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./examingControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./examingControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./examingControl.vue?vue&type=template&id=7732a828&\"\nimport script from \"./examingControl.vue?vue&type=script&lang=js&\"\nexport * from \"./examingControl.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}